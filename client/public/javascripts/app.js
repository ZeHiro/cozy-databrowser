!function(){"use strict";var e="undefined"==typeof window?global:window;if("function"!=typeof e.require){var t={},i={},n={},r={}.hasOwnProperty,o="components/",s=function(e,t){var i=0;t&&(0===t.indexOf(o)&&(i=o.length),t.indexOf("/",i)>0&&(t=t.substring(i,t.indexOf("/",i))));var r=n[e+"/index.js"]||n[t+"/deps/"+e+"/index.js"];return r?o+r.substring(0,r.length-".js".length):e},l=/^\.\.?(\/|$)/,a=function(e,t){for(var i,n=[],r=(l.test(t)?e+"/"+t:t).split("/"),o=0,s=r.length;s>o;o++)i=r[o],".."===i?n.pop():"."!==i&&""!==i&&n.push(i);return n.join("/")},u=function(e){return e.split("/").slice(0,-1).join("/")},c=function(t){return function(i){var n=a(u(t),i);return e.require(n,t)}},d=function(e,t){var n={id:e,exports:{}};return i[e]=n,t(n.exports,c(e),n),n.exports},f=function(e,n){var o=a(e,".");if(null==n&&(n="/"),o=s(e,n),r.call(i,o))return i[o].exports;if(r.call(t,o))return d(o,t[o]);var l=a(o,"./index");if(r.call(i,l))return i[l].exports;if(r.call(t,l))return d(l,t[l]);throw new Error('Cannot find module "'+e+'" from "'+n+'"')};f.alias=function(e,t){n[t]=e},f.register=f.define=function(e,i){if("object"==typeof e)for(var n in e)r.call(e,n)&&(t[n]=e[n]);else t[e]=i},f.list=function(){var e=[];for(var i in t)r.call(t,i)&&e.push(i);return e},f.brunch=!0,f._cache=i,e.require=f}}(),require.register("application",function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var r=t("views/menu"),o=n(r),s=t("views/main"),l=n(s),a=Backbone.Router.extend({routes:{"doctype/:doctype":"onDoctype"},onDoctype:function(e){this.app.views.main.setDoctype(e),this.app.views.menu.select(e)}}),u={initialize:function(){this.views={menu:new o["default"],main:new l["default"]},this.views.menu.$el.appendTo("#container"),this.views.main.$el.appendTo("#container"),this.router=new a({app:this}),this.router.app=this,Backbone.history.start(),$("[formaction='drawer/toggle']").on("click",function(){var e=$("aside"),t="true"===e.attr("aria-expanded")?"false":"true";e.attr("aria-expanded",t)})}};new a;e["default"]=u,i.exports=e["default"]}),require.register("initialize",function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=t("application"),o=n(r);window.app=o["default"],$(function(){return o["default"].initialize()})}),require.register("models/menu",function(e,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=Backbone.Collection.extend({model:Backbone.Model,url:"doctypes"}),i.exports=e["default"]}),require.register("views/main",function(e,t,i){"use strict";function n(e){if(_(e).isObject()){var t="<ul>";for(var i in e)t+="<li>"+n(e[i])+"</li>";return t+="</ul>"}return e}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=Backbone.View.extend({el:"[role='contentinfo']",collection:new Backbone.Collection,emptyTemplate:"<p>Nothing to display at the moment!</p>",initialize:function(){this.render(),this.listenTo(this.collection,"reset",this.render)},serializeModel:function(e){var t={},i=e.toJSON();for(var n in i)_(i[n]).isObject()||("password"===n&&(t[n]="***"),"_id"!==n&&(t[n]=i[n]));return t},render:function(){var e=this,t="";if(0===this.collection.length)t=this.emptyTemplate;else{t="<table><thead><tr>",this.columnList=this.serializeModel(this.collection.at(0));for(var i in this.columnList)t+="<th>"+i+"</th>";t+="</tr></thead><tbody>",this.collection.forEach(function(i){t+="<tr>";var r=e.serializeModel(i);for(var o in e.columnList)t+=void 0!==r[o]?"<td>"+n(r[o])+"</td>":"<td>NA</td>";t+="</tr>"}),t+="</tbody></table>"}return this.$el.empty().html(t),this},setDoctype:function(e){this.doctype=e,this.collection.fetch({reset:!0,url:"search?page=1&nbperpage=100&range=all&doctypes[]="+e})}}),i.exports=e["default"]}),require.register("views/menu",function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var r=t("models/menu"),o=n(r);e["default"]=Backbone.View.extend({el:"aside",collection:new o["default"],initialize:function(){this.collection.fetch().done(this.render.bind(this))},itemTemplate:_.template('<li><a class="<%= sclass %>" href="#doctype/<%= doctype %>"><%= doctype %> (<%= sum %>)</a></li>'),render:function(){var e=this,t="<ul>";return this.collection.forEach(function(i){var n=i.toJSON();n.sclass=n.doctype===e.selected?"selected":"",t+=e.itemTemplate(n)},this),t+="</ul>",this.$el.empty().html(t),this},select:function(e){this.selected=e,this.$("a").removeClass("selected"),this.$("a[href='#doctype/"+e+"']").addClass("selected")}}),i.exports=e["default"]});